<!-- NavBar affichée si userConnected-->
<nav class="navbar navbar-expand-lg navbar-light bg-light" *ngIf="connected">

  <a class="navbar-brand" href="#">
    <img src="/assets/breath.png" width="30" height="30" alt="">
    AirPur
  </a>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
    aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarSupportedContent">

    <a class="nav-link" href="#"> Acceuil <span class="sr-only">(current)</span></a>

    <mat-form-field id="lfCityForm">
      <input matInput placeholder="Chercher Commune" aria-label="State" [matAutocomplete]="auto" [formControl]="searchedCommune">
      <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn">
        <mat-option *ngIf="isLoading" class="is-loading">Chargement ...</mat-option>
        <ng-container *ngIf="!isLoading">
          <mat-option *ngFor="let commune of filteredCommunes" [value]="commune">
            <span><b>{{commune.nomCommune}}</b> ({{commune.codeInseeCommune.substring(0,2)}})</span>
          </mat-option>
        </ng-container>
      </mat-autocomplete>
    </mat-form-field>

    <div id="navbarNav">
      <ul class="nav navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link" href="#" [routerLink]="['/profil/moncompte']">Mon Compte<span
              class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#" [routerLink]="['/profil/favoris']" >Mes relevés</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Se déconnecter<span class="sr-only">(current)</span></a>
        </li>
      </ul>
    </div>
  </div>
</nav>


<!-- NavBar affichée si !userConnected-->
<nav class="navbar navbar-expand-lg navbar-light bg-light" *ngIf="!connected">

  <a class="navbar-brand" href="#">
    <img src="/assets/breath.png" width="30" height="30" alt="">
    AirPur
  </a>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
    aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarSupportedContent">

    <a class="nav-link" href="#"> Acceuil <span class="sr-only">(current)</span></a>


    <mat-form-field id="lfCityForm">
      <input matInput placeholder="Chercher Commune" aria-label="State" [matAutocomplete]="auto" [formControl]="searchedCommune">
      <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn">
        <mat-option *ngIf="isLoading" class="is-loading">Chargement ...</mat-option>
        <ng-container *ngIf="!isLoading">
          <mat-option *ngFor="let commune of filteredCommunes" [value]="commune">
            <span><b>{{commune.nomCommune}}</b> ({{commune.codeInseeCommune.substring(0,2)}})</span>
          </mat-option>
        </ng-container>
      </mat-autocomplete>
    </mat-form-field>
    

    <!-- <form class="form-inline my-2 my-lg-0" id="lfCityForm">
      <input class="form-control mr-sm-2" type="search" placeholder="Nom de la ville" aria-label="Search" [(ngModel)]="inputSearchCommune">
      <button class="btn btn-outline-success my-2 my-sm-0" type="submit" (click)="this.chercherCommune()" >Chercher</button>
    </form> -->


    <div id="navbarNav">
      <ul class="nav navbar-nav ml-auto">
        <li class="nav-item active">
          <a class="nav-link" href="#" [routerLink]="['/profil/inscription']"> S'inscrire <span
              class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#" [routerLink]="['/profil/connexion']">Se Connecter</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div id="content">
  <router-outlet></router-outlet>
</div>

<footer class="bg-light text-center text-lg-start fixed-bottom">
  <!-- Grid container -->
  <div class="container p-4">
    <!--Grid row-->
    <div class="row">
      <!--Grid column-->
      <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
        <a class="nav-link" [routerLink]="['/legal/conditionsGen']">Conditions générales</a>

      </div>
      <!--Grid column-->

      <!--Grid column-->
      <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
        <a class="nav-link" [routerLink]="['/legal/confidentialites']">Confidentialités</a>

      </div>
      <!--Grid column-->

      <!--Grid column-->
      <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
        <a class="nav-link" [routerLink]="['/legal/aPropos']"> A propos</a>

      </div>
      <!--Grid column-->

      <!--Grid column-->
      <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
        <a class="nav-link" [routerLink]="['/legal/cookies']">Cookies</a>

      </div>
      <!--Grid column-->
    </div>
    <!--Grid row-->
  </div>
  <!-- Grid container -->

  <!-- Copyright -->
  <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2)">
    © 2021 Copyright:
    <a class="text-dark" href="https://www.youtube.com/watch?v=dQw4w9WgXcQ&ab_channel=RickAstleyVEVO">RDS Team</a>
  </div>
  <!-- Copyright -->
</footer>